<ngx-graph
  #myChart
  class="chart-container"
  *ngIf="showRender"
  [view]="dimensions"
  [links]="dataLink"
  [curve]="curve"
  [animate]="false"
  [enableZoom]="false"
  [draggingEnabled]="false"
  [panningEnabled]="false"
  [nodes]="dataNode"
  [layoutSettings]="layoutSettings"
  layout="dagreCluster"
>
  <!-- #1 Esto es la punta de la flecha! ðŸ”´-->
  <ng-template #defsTemplate>
    <svg:marker
      id="arrow"
      fill="#000000"
      viewBox="0 -5 10 10"
      refX="7"
      refY="0"
      markerWidth="3"
      markerHeight="3"
      orient="auto"
    >
      <svg:path d="M0,-5L10,0L0,5" class="arrow-head" />
    </svg:marker>
  </ng-template>

  <!-- #2 Esto es la tarjeta con el contenido -->
  <ng-template #nodeTemplate let-node>
    <svg:g class="node">
      <svg:foreignObject width="200" height="200">
        <xhtml:div xmlns="http://www.w3.org/1999/xhtml">
          <app-flow-chart-node  [dataIn]="node"></app-flow-chart-node>
        </xhtml:div>
      </svg:foreignObject>
    </svg:g>
  </ng-template>

  <!-- #3 Esto son las lineas-->
  <ng-template #linkTemplate let-link>
    <svg:g class="edge">
      <svg:path
        class="line"
        stroke-width="4"
        marker-end="url(#arrow)"
      ></svg:path>
      <svg:text class="edge-label" text-anchor="middle"></svg:text>
    </svg:g>
  </ng-template>
</ngx-graph>

